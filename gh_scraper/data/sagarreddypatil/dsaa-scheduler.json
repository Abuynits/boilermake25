{"description": "Task scheduler, like an OS, bothers the user every now and then to switch tasks. Possibly helpful for ADHD", "readme": "# schd\n\nI made this because I needed a single source of truth for everything I needed to\ndo, and I wanted to just be able to look at a list and pick a task.\n\nThis is a progressive web app and runs a service worker to show notifications.\n\nCurrently, this doesn't support due dates\n\n## Design\n\n### Basics\n\nThere are two constructs: tasks and state changes.\n\nTasks are associated with a user, and each state change is associated with a\ntask. The outcome of the last state change is cached in the task.\n\n#### Tasks\n\nA task has the following fields\n\n- Title\n- Description (rendered with markdown)\n- Priority (lower is more important)\n\n#### State Changes\n\nA task can have the following states\n\n- CURRENT\n- READY\n- DONE\n- SLEEP (currently unused)\n\nThe application is set up for a single `CURRENT` task, but it may or may not\nwork with multiple. Currently, the only way to have multiple current tasks is to\nuse the Pocketbase API.\n\nEvery time you press a button, a state change is recorded. This could be\n\n- finishing the current task (CURRENT -> DONE)\n- pressing idle (CURRENT -> READY)\n- scheduling a task (CURRENT -> READY, and READY->CURRENT for the next task)\n\n### Notifications\n\n**If you're on iOS, add this app to your home screen to get notifications**\n\nOn every state change, a notification is sent to the user. This is done through\nthe Web Push API.\n\nTo enable notifications\n\n- Click on your profile picture/initial\n- Click on \"Enable Notifications\", and approve the prompt\n- Click on Subscribe\n\nOnly one device can be subscribed to notifications at a time. This is a known\nlimitation of my backend.\n\n### API\n\nThere's a (somewhat limited) API. To get a key, click on your profile -> API\nToken.\n\nThe current endpoints are\n\n- `GET /api/v1/evict` <- evict (idle) the current task\n\nPersonally, I use this to remind me to switch tasks every hour using iOS shortcuts.\n\n### Pocketbase API\n\nIf you wish to do so, you can interact with the Pocketbase API directly. See\n[their docs](https://pocketbase.io/docs/) for more information.\n\n## Tech Stack\n\n- React, built with Vite\n- TailwindCSS\n- [Pocketbase](https://pocketbase.io/)\n  - With custom hooks for notifications\n  - The custom API is undocumented, but it's pretty simple\n\n## Development\n\n### Dependencies\n\n- NodeJS + Yarn\n- One of\n  - Go 1.21+\n  - Docker\n\n### Frontend\n\n```bash\n# Install dependencies\nyarn\n\n# Run the dev server\nyarn dev\n```\n\n### Backend\n\n```bash\ncd backend\n\ngo run main.go serve --http=0.0.0.0:8093\n```\n\nAny changes you make to the database will be recorded in `backend/pb_migrations`\nwhich is included in the build\n\nIf you want to mess with the server location, see `src/Login.tsx:3`\n\n### Frozen Backend\n\nIf you don't expect to make changes to the backend, you can run it over Docker\n\n```bash\ndocker compose build\ndocker compose up\n```\n\nNote that this also runs the frontend (under route `/`). To see the development\nversion instead, go to `localhost:5173` served by Vite.\n\n## Deployment\n\nI use [Fly](https://fly.io) to deploy this. The config is in `fly.toml`.\nThere is a single `Dockerfile` where the frontend and backend are built.\n\nThe frontend is served by the backend as static files, so React uses hash\n(`/#/`) routing.\n", "prev_commits": ["change host", "bruh", "hmm", "Create docker-image.yml", "fix stuff?", "rewrite pocketbase hooks", "minor fixes + prio dropdown", "Merge branch 'main' of https://github.com/sagarreddypatil/dsaa-scheduler", "fix small oopsie", "stop fetching state changes", "Create LICENSE", "Delete LICENSE", "small ui change", "title renaming", "one line change", "whoops", "auto foreground color", "minor improvements", "more readme", "write the readme", "slightly neater source code", "imporve markdown sytling", "done section collapsable", "sort done by most recent", "build error + profile pic cache", "add loading", "description editing", "add markdown support", "remove debug print", "optional description", "add task priority edit", "remove the delete button", "add delete task button", "make notifs work on api calls", "password update"], "title": "dsaa-scheduler", "owner": "sagarreddypatil", "commits": 35}